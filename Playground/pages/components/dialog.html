<div class="nui-card">
    <div class="nui-headline">Dialog Component</div>
    <div class="nui-copy">
        The <code>nui-dialog</code> component provides a native HTML dialog wrapper.
        The <code>nui.dialog</code> system provides standardized helpers for common interactions.
    </div>

    <h3>System Dialogs</h3>
    <nui-button-container gap="1rem">
        <nui-button><button type="button"
                onclick="nui.dialog.alert('Hello!', 'This is a standard system alert.')">Alert</button></nui-button>
        <nui-button><button type="button" onclick="runConfirm()">Confirm</button></nui-button>
        <nui-button><button type="button" onclick="runPrompt()">Prompt</button></nui-button>
    </nui-button-container>

    <div id="dialog-result"
        style="margin-top: 1rem; padding: 1rem; background: var(--color-shade1); border-radius: var(--border-radius1);">
        Result: -
    </div>
</div>

<div class="nui-card">
    <div class="nui-headline">Custom Declarative Dialog</div>
    <nui-button><button type="button" onclick="document.getElementById('custom-dialog').showModal()">Open Custom
            Dialog</button></nui-button>

    <nui-dialog id="custom-dialog">
        <dialog>
            <div style="padding: 2rem; width: 400px;">
                <h3>Custom Dialog</h3>
                <p>This is a custom dialog defined in HTML.</p>
                <nui-button><button type="button"
                        onclick="document.getElementById('custom-dialog').close()">Close</button></nui-button>
            </div>
        </dialog>
    </nui-dialog>
</div>

<div class="nui-card">
    <div class="nui-headline">Dialog Placement Modes</div>
    <div class="nui-copy">
        Use the <code>placement</code> attribute to position dialogs: <code>top</code> (upper 1/3), 
        <code>center</code> (default), or <code>bottom</code> (lower 1/3).
    </div>
    <nui-button-container gap="1rem">
        <nui-button><button type="button" onclick="document.getElementById('dialog-top').showModal()">Top Placement</button></nui-button>
        <nui-button><button type="button" onclick="document.getElementById('dialog-center').showModal()">Center Placement</button></nui-button>
        <nui-button><button type="button" onclick="document.getElementById('dialog-bottom').showModal()">Bottom Placement</button></nui-button>
    </nui-button-container>

    <nui-dialog id="dialog-top" placement="top">
        <dialog>
            <div style="padding: 2rem; width: 400px;">
                <h3>Top Placement</h3>
                <p>This dialog is positioned in the top 1/3 of the viewport.</p>
                <nui-button><button type="button" onclick="document.getElementById('dialog-top').close()">Close</button></nui-button>
            </div>
        </dialog>
    </nui-dialog>

    <nui-dialog id="dialog-center" placement="center">
        <dialog>
            <div style="padding: 2rem; width: 400px;">
                <h3>Center Placement</h3>
                <p>This dialog is centered (browser default behavior).</p>
                <nui-button><button type="button" onclick="document.getElementById('dialog-center').close()">Close</button></nui-button>
            </div>
        </dialog>
    </nui-dialog>

    <nui-dialog id="dialog-bottom" placement="bottom">
        <dialog>
            <div style="padding: 2rem; width: 400px;">
                <h3>Bottom Placement</h3>
                <p>This dialog is positioned in the bottom 1/3 of the viewport.</p>
                <nui-button><button type="button" onclick="document.getElementById('dialog-bottom').close()">Close</button></nui-button>
            </div>
        </dialog>
    </nui-dialog>
</div>

<script type="nui/page">
function init(element, params) {
    const resultEl = element.querySelector('#dialog-result');
    
    function showResult(text) {
        resultEl.textContent = 'Result: ' + JSON.stringify(text);
    }

    // Attach handlers to window for inline onclick attributes
    window.showResult = showResult;

    window.runConfirm = async function() {
        const res = await nui.dialog.confirm('Confirmation', 'Are you sure you want to proceed?');
        showResult(res);
    };

    window.runPrompt = async function() {
        const res = await nui.dialog.prompt('Enter Details', [
            { id: 'name', label: 'Name', value: 'John Doe' },
            { id: 'email', label: 'Email', type: 'email' }
        ]);
        showResult(res);
    };
}
</script>